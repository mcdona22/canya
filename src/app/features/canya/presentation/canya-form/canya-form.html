<div class="standard-wrapper centred-max-width form-general">
  <div class="screen-title"> {{ title() }}</div>
  <div
    class="form"
    [formGroup]="form"
  >
    <mat-form-field>
      <mat-label>Title</mat-label>
      <input
        formControlName="name" matInput
        placeholder="Title of your canya">
    </mat-form-field>
    <mat-form-field>

      <mat-label>Description</mat-label>
      <textarea
        formControlName="description" matInput
        placeholder="Add a description"
        rows="5"
      ></textarea>

    </mat-form-field>
    <div class="add-dates">
      <button mat-icon-button (click)="onAddDate()">
        <mat-icon>add</mat-icon>
      </button>
      <div class="prompt">Lets add some dates to choose from</div>
    </div>


    <!--      @for (dateForm of selectedDates; track i; let i = $index) {-->
    <!--        <div class="event-date-form">-->
    <!--          <div [formGroup]="dateForm" class="event-form-row">-->
    <!--            <mat-form-field>-->
    <!--              <mat-label>Date</mat-label>-->
    <!--              <input matInput formControlName="selectedDate">-->
    <!--            </mat-form-field>-->
    <!--          </div>-->
    <!--        </div>-->

    <!--      }-->
  </div>

  <div class="event-dates">
    <div class="event-form">
      <!--      @for (thing of ['carrot', 'rabbit', 'mushroom']; track $index) {-->
      <!--        <p>The thing at {{ $index }} is a {{ thing }}</p>-->
      <!--      }-->

      @for (dateForm of dateForms; track i; let i = $index) {
        <div class="event-date-form">
          <div
            [formGroup]="dateForm"
            class="event-date-form-row">
            <div class=" delete-control" (click)="onDeleteContactRow(i)">
              <mat-icon>delete</mat-icon>
            </div>
            <mat-form-field>
              <mat-label>Event Date</mat-label>
              <input matInput placeholder="Choose an event date" formControlName="selectedDate">
            </mat-form-field>
            <mat-form-field>
              <mat-label>Comments</mat-label>
              <input matInput placeholder="time slots etc" formControlName="comments">
            </mat-form-field>


          </div>

        </div>
      }


    </div>
  </div>

  <div class=" buttons">
    <button mat-stroked-button> Cancel</button>
    <button [disabled]="!form.valid" mat-flat-button>{{ saveCaption }}</button>
  </div>


  {{ formValue() | json }}
  <hr/>

</div>




